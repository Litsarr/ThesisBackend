# Database connection properties
spring.datasource.url=${DATABASE_URL}
spring.datasource.username=${DB_USER}
spring.datasource.password=${DB_PASSWORD}

# Hibernate settings
spring.jpa.hibernate.ddl-auto=update  # Consider using 'update' in production to prevent dropping tables
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.jdbc.batch_size=50  # Enable batching
spring.jpa.properties.hibernate.jdbc.batch_versioned_data=true
spring.jpa.properties.hibernate.jdbc.use_get_generated_keys=true
spring.jpa.properties.hibernate.cache.use_query_cache=false  # Disable query cache to avoid issues
spring.jpa.properties.hibernate.use_sql_comments=true

# Enable debug-level logging for Hibernate and SQL
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# Connection pool settings (HikariCP)
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.connection-test-query=SELECT 1
spring.datasource.hikari.pool-prepared-statements=false  # Disable prepared statement pooling

# Server port and environment variables
server.port=${PORT:8080}
